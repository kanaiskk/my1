{"remainingRequest":"D:\\bishe\\front\\front\\node_modules\\_babel-loader@8.4.1@babel-loader\\lib\\index.js!D:\\bishe\\front\\front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js??ref--1-0!D:\\bishe\\front\\front\\node_modules\\_vue-loader@15.11.1@vue-loader\\lib\\index.js??vue-loader-options!D:\\bishe\\front\\front\\src\\pages\\forum\\add.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\bishe\\front\\front\\src\\pages\\forum\\add.vue","mtime":1742984290000},{"path":"D:\\bishe\\front\\front\\babel.config.js","mtime":1742984272000},{"path":"D:\\bishe\\front\\front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\bishe\\front\\front\\node_modules\\_babel-loader@8.4.1@babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\bishe\\front\\front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\bishe\\front\\front\\node_modules\\_vue-loader@15.11.1@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICAvL+aVsOaNrumbhuWQiAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGlzZG9uZTogJ+W8gOaUvicsCiAgICAgICAgY29udGVudDogJycsCiAgICAgICAgcGFyZW50aWQ6IDAsCiAgICAgICAgdXNlcmlkOiBOdW1iZXIobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Zyb250VXNlcmlkJykpLAogICAgICAgIHVzZXJuYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSwKICAgICAgICB0b3B0aW1lOiAnJywKICAgICAgICBjb3ZlcjogJycsCiAgICAgICAgaXNhbm9uOiAwCiAgICAgIH0sCiAgICAgIGVkaXRvck9wdGlvbjogewogICAgICAgIG1vZHVsZXM6IHsKICAgICAgICAgIHRvb2xiYXI6IFtbImJvbGQiLCAiaXRhbGljIiwgInVuZGVybGluZSIsICJzdHJpa2UiXSwgWyJibG9ja3F1b3RlIiwgImNvZGUtYmxvY2siXSwgW3sKICAgICAgICAgICAgaGVhZGVyOiAxCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGhlYWRlcjogMgogICAgICAgICAgfV0sIFt7CiAgICAgICAgICAgIGxpc3Q6ICJvcmRlcmVkIgogICAgICAgICAgfSwgewogICAgICAgICAgICBsaXN0OiAiYnVsbGV0IgogICAgICAgICAgfV0sIFt7CiAgICAgICAgICAgIHNjcmlwdDogInN1YiIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgc2NyaXB0OiAic3VwZXIiCiAgICAgICAgICB9XSwgW3sKICAgICAgICAgICAgaW5kZW50OiAiLTEiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGluZGVudDogIisxIgogICAgICAgICAgfV0sIFt7CiAgICAgICAgICAgIGRpcmVjdGlvbjogInJ0bCIKICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBzaXplOiBbInNtYWxsIiwgZmFsc2UsICJsYXJnZSIsICJodWdlIl0KICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBoZWFkZXI6IFsxLCAyLCAzLCA0LCA1LCA2LCBmYWxzZV0KICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBjb2xvcjogW10KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogW10KICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBmb250OiBbXQogICAgICAgICAgfV0sIFt7CiAgICAgICAgICAgIGFsaWduOiBbXQogICAgICAgICAgfV0sIFsiY2xlYW4iXSwgWyJpbWFnZSIsICJ2aWRlbyJdXQogICAgICAgIH0KICAgICAgfSwKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgcnVsZXM6IHsKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeagh+mimCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICB0eXBlbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeWIhuexuycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBjYXRlZ29yeUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Q2F0ZWdvcnlMaXN0KCk7CiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuaWQgIT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMuaXNFZGl0ID0gdHJ1ZTsKICAgICAgdGhpcy4kaHR0cC5nZXQoJ2ZvcnVtL2RldGFpbC8nICsgdGhpcy4kcm91dGUucXVlcnkuaWQsIHt9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgdGhpcy5mb3JtID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgLy/mlrnms5Xpm4blkIgKICBtZXRob2RzOiB7CiAgICBnZXRDYXRlZ29yeUxpc3QoKSB7CiAgICAgIHRoaXMuJGh0dHAuZ2V0KCdmb3J1bXR5cGUvbGlzdCcsIHt9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgdGhpcy5jYXRlZ29yeUxpc3QgPSByZXMuZGF0YS5kYXRhLmxpc3Q7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDov5Tlm57mjInpkq4KICAgIGJhY2tDbGljaygpIHsKICAgICAgaGlzdG9yeS5iYWNrKCk7CiAgICB9LAogICAgb25FZGl0b3JSZWFkeShlZGl0b3IpIHsKICAgICAgZWRpdG9yLnJvb3Quc2V0QXR0cmlidXRlKCdkYXRhLXBsYWNlaG9sZGVyJywgIuivt+i+k+WFpeWGheWuuS4uLiIpOwogICAgfSwKICAgIGNvdmVyVXBsb2FkQ2hhbmdlKGZpbGVVcmxzKSB7CiAgICAgIHRoaXMuZm9ybS5jb3ZlciA9IGZpbGVVcmxzLnJlcGxhY2UobmV3IFJlZ0V4cCh0aGlzLiRjb25maWcuYmFzZVVybCwgImciKSwgIiIpOwogICAgfSwKICAgIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKCF0aGlzLmlzRWRpdCkgewogICAgICAgICAgICB0aGlzLmZvcm0udG9wdGltZSA9IHRoaXMuZ2V0Q3VyRGF0ZVRpbWUoKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLmZvcm0uY292ZXIgPT0gJycpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35LiK5Lyg5bCB6Z2i5Zu+Jyk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJGh0dHAucG9zdChgZm9ydW0vJHt0aGlzLmlzRWRpdCA/ICd1cGRhdGUnIDogJ2FkZCd9YCwgdGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHt0aGlzLmlzRWRpdCA/ICfkv67mlLknIDogJ+WPkeW4gyd95oiQ5YqfYCwKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLAogICAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4gewogICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2luZGV4L215Rm9ydW1MaXN0Jyk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9pbmRleC9mb3J1bScpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgaXNkb25lOiAn5byA5pS+JywKICAgICAgICBjb250ZW50OiAnJywKICAgICAgICBwYXJlbnRpZDogMCwKICAgICAgICB1c2VyaWQ6IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZnJvbnRVc2VyaWQnKSksCiAgICAgICAgdXNlcm5hbWU6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpLAogICAgICAgIHRvcHRpbWU6ICcnLAogICAgICAgIGNvdmVyOiAnJywKICAgICAgICBpc2Fub246IDAKICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"names":["data","form","title","isdone","content","parentid","userid","Number","localStorage","getItem","username","toptime","cover","isanon","editorOption","modules","toolbar","header","list","script","indent","direction","size","color","background","font","align","isEdit","rules","required","message","trigger","typename","categoryList","created","getCategoryList","$route","query","id","undefined","$http","get","then","res","code","methods","backClick","history","back","onEditorReady","editor","root","setAttribute","coverUploadChange","fileUrls","replace","RegExp","$config","baseUrl","submitForm","formName","$refs","validate","valid","getCurDateTime","$message","error","post","type","duration","onClose","$router","push","msg","resetForm"],"sources":["src/pages/forum/add.vue"],"sourcesContent":["<template>\r\n\t<div :style='{\"width\":\"100%\",\"padding\":\"20px\",\"margin\":\"20px auto\",\"position\":\"relative\",\"background\":\"none\"}'>\r\n\t\t<div class=\"section-title\" :style='{\"padding\":\"0 0 0 calc(50% - 630px)\",\"margin\":\"0\",\"color\":\"#fff\",\"textAlign\":\"left\",\"background\":\"url(http://codegen.caihongy.cn/20250204/b980e0170638444f96e5c6db7256aac3.png) no-repeat center\",\"width\":\"auto\",\"lineHeight\":\"50px\",\"fontSize\":\"22px\",\"fontWeight\":\"600\"}'>互动论坛</div>\r\n\t\t<div class=\"back_box\">\r\n\t\t\t<el-button class=\"backBtn\" size=\"mini\" @click=\"backClick\">\r\n\t\t\t\t<span class=\"icon iconfont icon-jiantou33\"></span>\r\n\t\t\t\t<span class=\"text\">返回</span>\r\n\t\t\t</el-button>\r\n\t\t</div>\r\n\t\t<el-form class=\"add-update-preview\" :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"120px\">\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"标题\" prop=\"title\">\r\n\t\t\t\t<el-input v-model=\"form.title\" placeholder=\"请输入标题\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"分类\" prop=\"typename\">\r\n\t\t\t\t<el-select v-model=\"form.typename\" placeholder=\"请选择分类\">\r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t\tv-for=\"(item,index) in categoryList\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t:label=\"item.typename\"\r\n\t\t\t\t\t\t:value=\"item.typename\">\r\n\t\t\t\t\t</el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"封面图\" prop=\"cover\">\r\n\t\t\t\t<file-upload\r\n\t\t\t\t\ttip=\"点击上传封面图\"\r\n\t\t\t\t\taction=\"file/upload\"\r\n\t\t\t\t\t:limit=\"3\"\r\n\t\t\t\t\t:multiple=\"true\"\r\n\t\t\t\t\t:fileUrls=\"form.cover?form.cover:''\"\r\n\t\t\t\t\t@change=\"coverUploadChange\"\r\n\t\t\t\t\t></file-upload>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"类型\" prop=\"isdone\">\r\n\t\t\t\t<el-radio-group v-model=\"form.isdone\">\r\n\t\t\t\t\t<el-radio label=\"开放\">公开</el-radio>\r\n\t\t\t\t\t<el-radio label=\"关闭\">私人</el-radio>\r\n\t\t\t\t</el-radio-group>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"是否匿名\" prop=\"isanon\">\r\n\t\t\t\t<el-radio-group v-model=\"form.isanon\">\r\n\t\t\t\t\t<el-radio :label=\"1\">是</el-radio>\r\n\t\t\t\t\t<el-radio :label=\"0\">否</el-radio>\r\n\t\t\t\t</el-radio-group>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"内容\" prop=\"content\">\r\n\t\t\t\t<editor\r\n\t\t\t\t\tmyQuillEditor=\"content\"\r\n\t\t\t\t\t:style='{\"minHeight\":\"400px\",\"border\":\"0\",\"boxShadow\":\"0 0 6px rgba(64, 158, 255, .5)\",\"outline\":\"none\",\"color\":\"#333\",\"borderRadius\":\"4px\",\"width\":\"1063px\",\"lineHeight\":\"32px\",\"fontSize\":\"14px\"}'\r\n\t\t\t\t\tv-model=\"form.content\" \r\n\t\t\t\t\tclass=\"editor\" \r\n\t\t\t\t\taction=\"file/upload\">\r\n\t\t\t\t</editor>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"0\",\"margin\":\"0\"}'>\r\n\t\t\t\t<el-button :style='{\"border\":\"0\",\"cursor\":\"pointer\",\"padding\":\"0 15px\",\"margin\":\"0 20px 0 0\",\"outline\":\"none\",\"borderRadius\":\"4px\",\"background\":\"#A50E11\",\"display\":\"inline-block\",\"width\":\"auto\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"height\":\"40px\"}' type=\"primary\" @click=\"submitForm('form')\">\r\n\t\t\t\t\t<span class=\"icon iconfont icon-kaitongfuwu\" :style='{\"color\":\"rgba(255, 255, 255, 1)\"}'></span>\r\n\t\t\t\t\t<span class=\"text\" :style='{\"color\":\"rgba(255, 255, 255, 1)\"}'>{{this.isEdit ? '修改' : '发布帖子'}}</span>\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button :style='{\"border\":\"none\",\"cursor\":\"pointer\",\"padding\":\"0 15px\",\"margin\":\"0 20px 0 0\",\"outline\":\"none\",\"borderRadius\":\"4px\",\"background\":\"#E8E8E8\",\"display\":\"inline-block\",\"width\":\"auto\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"height\":\"40px\"}' @click=\"resetForm('form')\">\r\n\t\t\t\t\t<span class=\"icon iconfont icon-shanchu1\" :style='{\"color\":\"#000\"}'></span>\r\n\t\t\t\t\t<span class=\"text\" :style='{\"color\":\"#000\"}'>重置</span>\r\n\t\t\t\t</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\t//数据集合\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tisdone: '开放',\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tparentid: 0,\r\n\t\t\t\t\tuserid: Number(localStorage.getItem('frontUserid')),\r\n\t\t\t\t\tusername: localStorage.getItem('username'),\r\n\t\t\t\t\ttoptime: '',\r\n\t\t\t\t\tcover: '',\r\n\t\t\t\t\tisanon: 0\r\n\t\t\t\t},\r\n\t\t\t\teditorOption: {\r\n\t\t\t\t\tmodules: {\r\n\t\t\t\t\t\ttoolbar: [\r\n\t\t\t\t\t\t\t[\"bold\", \"italic\", \"underline\", \"strike\"],\r\n\t\t\t\t\t\t\t[\"blockquote\", \"code-block\"],\r\n\t\t\t\t\t\t\t[{ header: 1 }, { header: 2 }],\r\n\t\t\t\t\t\t\t[{ list: \"ordered\" }, { list: \"bullet\" }],\r\n\t\t\t\t\t\t\t[{ script: \"sub\" }, { script: \"super\" }],\r\n\t\t\t\t\t\t\t[{ indent: \"-1\" }, { indent: \"+1\" }],\r\n\t\t\t\t\t\t\t[{ direction: \"rtl\" }],\r\n\t\t\t\t\t\t\t[{ size: [\"small\", false, \"large\", \"huge\"] }],\r\n\t\t\t\t\t\t\t[{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n\t\t\t\t\t\t\t[{ color: [] }, { background: [] }],\r\n\t\t\t\t\t\t\t[{ font: [] }],\r\n\t\t\t\t\t\t\t[{ align: [] }],\r\n\t\t\t\t\t\t\t[\"clean\"],\r\n\t\t\t\t\t\t\t[\"image\", \"video\"]\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tisEdit: false,\r\n\t\t\t\trules: {\r\n\t\t\t\t\ttitle: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入标题', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttypename: [\r\n\t\t\t\t\t\t{ required: true, message: '请选择分类', trigger: 'blur' }\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tcategoryList: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getCategoryList()\r\n\t\t\tif (this.$route.query.id != undefined) {\r\n\t\t\t\tthis.isEdit = true;\r\n\t\t\t\tthis.$http.get('forum/detail/' + this.$route.query.id,{}).then(res=>{\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tthis.form = res.data.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t//方法集合\r\n\t\tmethods: {\r\n\t\t\tgetCategoryList(){\r\n\t\t\t\tthis.$http.get('forumtype/list', {}).then(res => {\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tthis.categoryList = res.data.data.list\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 返回按钮\r\n\t\t\tbackClick(){\r\n\t\t\t\thistory.back()\r\n\t\t\t},\r\n\t\t\tonEditorReady(editor) {\r\n\t\t\t\teditor.root.setAttribute('data-placeholder', \"请输入内容...\");\r\n\t\t\t},\r\n\t\t\tcoverUploadChange(fileUrls) {\r\n\t\t\t\tthis.form.cover = fileUrls.replace(new RegExp(this.$config.baseUrl,\"g\"),\"\");\r\n\t\t\t},\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif(!this.isEdit){\r\n\t\t\t\t\t\t\tthis.form.toptime = this.getCurDateTime()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this.form.cover==''){\r\n\t\t\t\t\t\t\tthis.$message.error('请上传封面图')\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$http.post(`forum/${this.isEdit ? 'update' : 'add'}`, this.form).then(res => {\r\n\t\t\t\t\t\t\tif (res.data.code === 0) {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: `${this.isEdit ? '修改' : '发布'}成功`,\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\t\t\t\t\tif (this.isEdit) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.push('/index/myForumList');\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.push('/index/forum');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message.error(res.data.msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tresetForm(formName) {\r\n\t\t\t\tthis.form = {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tisdone: '开放',\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tparentid: 0,\r\n\t\t\t\t\tuserid: Number(localStorage.getItem('frontUserid')),\r\n\t\t\t\t\tusername: localStorage.getItem('username'),\r\n\t\t\t\t\ttoptime: '',\r\n\t\t\t\t\tcover: '',\r\n\t\t\t\t\tisanon: 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n\t.add-update-preview .el-form-item /deep/ .el-form-item__label {\r\n\t\tpadding: 0 10px 0 0;\r\n\t\tcolor: #666;\r\n\t\tfont-weight: 500;\r\n\t\twidth: 120px;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 40px;\r\n\t\ttext-align: right;\r\n\t}\r\n\t.add-update-preview .el-form-item /deep/ .el-form-item__content {\r\n\t\tmargin-left: 120px;\r\n\t}\r\n\t.add-update-preview .el-input /deep/ .el-input__inner {\r\n\t\tborder: 0;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 0 12px;\r\n\t\tbox-shadow: 0 0 6px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 400px;\r\n\t\tfont-size: 14px;\r\n\t\theight: 40px;\r\n\t}\r\n\t.add-update-preview .el-select /deep/ .el-input__inner {\r\n\t\tborder: 0;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 0 10px;\r\n\t\tbox-shadow: 0 0 6px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 200px;\r\n\t\tfont-size: 14px;\r\n\t\theight: 40px;\r\n\t}\r\n  \r\n\t.add-update-preview .el-date-editor /deep/ .el-input__inner {\r\n\t\tborder: 0;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 0 10px 0 30px;\r\n\t\tbox-shadow: 0 0 6px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 200px;\r\n\t\tfont-size: 14px;\r\n\t\theight: 40px;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .el-upload--picture-card {\r\n\t\tbackground: transparent;\r\n\t\tborder: 0;\r\n\t\tborder-radius: 0;\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tline-height: initial;\r\n\t\tvertical-align: middle;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .upload .upload-img {\r\n\t\tborder: 1px dashed rgba(64, 158, 255, 1);\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 6px;\r\n\t\tcolor: rgba(64, 158, 255, 1);\r\n\t\twidth: 200px;\r\n\t\tfont-size: 32px;\r\n\t\tline-height: 200px;\r\n\t\ttext-align: center;\r\n\t\theight: 200px;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .el-upload-list .el-upload-list__item {\r\n\t\tborder: 1px dashed rgba(64, 158, 255, 1);\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 6px;\r\n\t\tcolor: rgba(64, 158, 255, 1);\r\n\t\twidth: 200px;\r\n\t\tfont-size: 32px;\r\n\t\tline-height: 200px;\r\n\t\ttext-align: center;\r\n\t\theight: 200px;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .el-upload .el-icon-plus {\r\n\t\tborder: 1px dashed rgba(64, 158, 255, 1);\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 6px;\r\n\t\tcolor: rgba(64, 158, 255, 1);\r\n\t\twidth: 200px;\r\n\t\tfont-size: 32px;\r\n\t\tline-height: 200px;\r\n\t\ttext-align: center;\r\n\t\theight: 200px;\r\n\t}\r\n\t.add-update-preview /deep/ .el-upload__tip {\r\n\t\tcolor: #838fa1;\r\n\t}\r\n  \r\n\t.add-update-preview .el-textarea /deep/ .el-textarea__inner {\r\n\t\tborder: 0;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 12px;\r\n\t\tbox-shadow: 0 0 6px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 400px;\r\n\t\tfont-size: 14px;\r\n\t\theight: 120px;\r\n\t}\r\n</style>\r\n"],"mappings":";AAqEA;EACA;EACAA,KAAA;IACA;MACAC,IAAA;QACAC,KAAA;QACAC,MAAA;QACAC,OAAA;QACAC,QAAA;QACAC,MAAA,EAAAC,MAAA,CAAAC,YAAA,CAAAC,OAAA;QACAC,QAAA,EAAAF,YAAA,CAAAC,OAAA;QACAE,OAAA;QACAC,KAAA;QACAC,MAAA;MACA;MACAC,YAAA;QACAC,OAAA;UACAC,OAAA,GACA,2CACA,8BACA;YAAAC,MAAA;UAAA;YAAAA,MAAA;UAAA,IACA;YAAAC,IAAA;UAAA;YAAAA,IAAA;UAAA,IACA;YAAAC,MAAA;UAAA;YAAAA,MAAA;UAAA,IACA;YAAAC,MAAA;UAAA;YAAAA,MAAA;UAAA,IACA;YAAAC,SAAA;UAAA,IACA;YAAAC,IAAA;UAAA,IACA;YAAAL,MAAA;UAAA,IACA;YAAAM,KAAA;UAAA;YAAAC,UAAA;UAAA,IACA;YAAAC,IAAA;UAAA,IACA;YAAAC,KAAA;UAAA,IACA,WACA;QAEA;MACA;MACAC,MAAA;MACAC,KAAA;QACA1B,KAAA,GACA;UAAA2B,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAC,QAAA,GACA;UAAAH,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;MACAE,YAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,eAAA;IACA,SAAAC,MAAA,CAAAC,KAAA,CAAAC,EAAA,IAAAC,SAAA;MACA,KAAAZ,MAAA;MACA,KAAAa,KAAA,CAAAC,GAAA,wBAAAL,MAAA,CAAAC,KAAA,CAAAC,EAAA,MAAAI,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAA3C,IAAA,CAAA4C,IAAA;UACA,KAAA3C,IAAA,GAAA0C,GAAA,CAAA3C,IAAA,CAAAA,IAAA;QACA;MACA;IACA;EACA;EACA;EACA6C,OAAA;IACAV,gBAAA;MACA,KAAAK,KAAA,CAAAC,GAAA,uBAAAC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAA3C,IAAA,CAAA4C,IAAA;UACA,KAAAX,YAAA,GAAAU,GAAA,CAAA3C,IAAA,CAAAA,IAAA,CAAAkB,IAAA;QACA;MACA;IACA;IACA;IACA4B,UAAA;MACAC,OAAA,CAAAC,IAAA;IACA;IACAC,cAAAC,MAAA;MACAA,MAAA,CAAAC,IAAA,CAAAC,YAAA;IACA;IACAC,kBAAAC,QAAA;MACA,KAAArD,IAAA,CAAAW,KAAA,GAAA0C,QAAA,CAAAC,OAAA,KAAAC,MAAA,MAAAC,OAAA,CAAAC,OAAA;IACA;IACAC,WAAAC,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAE,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,UAAApC,MAAA;YACA,KAAA1B,IAAA,CAAAU,OAAA,QAAAqD,cAAA;UACA;UACA,SAAA/D,IAAA,CAAAW,KAAA;YACA,KAAAqD,QAAA,CAAAC,KAAA;YACA;UACA;UACA,KAAA1B,KAAA,CAAA2B,IAAA,eAAAxC,MAAA,4BAAA1B,IAAA,EAAAyC,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAA3C,IAAA,CAAA4C,IAAA;cACA,KAAAqB,QAAA;gBACAnC,OAAA,UAAAH,MAAA;gBACAyC,IAAA;gBACAC,QAAA;gBACAC,OAAA,EAAAA,CAAA;kBACA,SAAA3C,MAAA;oBACA,KAAA4C,OAAA,CAAAC,IAAA;kBACA;oBACA,KAAAD,OAAA,CAAAC,IAAA;kBACA;gBACA;cACA;YACA;cACA,KAAAP,QAAA,CAAAC,KAAA,CAAAvB,GAAA,CAAA3C,IAAA,CAAAyE,GAAA;YACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC,UAAAd,QAAA;MACA,KAAA3D,IAAA;QACAC,KAAA;QACAC,MAAA;QACAC,OAAA;QACAC,QAAA;QACAC,MAAA,EAAAC,MAAA,CAAAC,YAAA,CAAAC,OAAA;QACAC,QAAA,EAAAF,YAAA,CAAAC,OAAA;QACAE,OAAA;QACAC,KAAA;QACAC,MAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}