{"remainingRequest":"D:\\bishe\\front\\front\\node_modules\\_vue-loader@15.11.1@vue-loader\\lib\\index.js??vue-loader-options!D:\\bishe\\front\\front\\src\\pages\\forum\\add.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\bishe\\front\\front\\src\\pages\\forum\\add.vue","mtime":1742984290000},{"path":"D:\\bishe\\front\\front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\bishe\\front\\front\\node_modules\\_babel-loader@8.4.1@babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\bishe\\front\\front\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\bishe\\front\\front\\node_modules\\_vue-loader@15.11.1@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJZXhwb3J0IGRlZmF1bHQgew0KCQkvL+aVsOaNrumbhuWQiA0KCQlkYXRhKCkgew0KCQkJcmV0dXJuIHsNCgkJCQlmb3JtOiB7DQoJCQkJCXRpdGxlOiAnJywNCgkJCQkJaXNkb25lOiAn5byA5pS+JywNCgkJCQkJY29udGVudDogJycsDQoJCQkJCXBhcmVudGlkOiAwLA0KCQkJCQl1c2VyaWQ6IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZnJvbnRVc2VyaWQnKSksDQoJCQkJCXVzZXJuYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSwNCgkJCQkJdG9wdGltZTogJycsDQoJCQkJCWNvdmVyOiAnJywNCgkJCQkJaXNhbm9uOiAwDQoJCQkJfSwNCgkJCQllZGl0b3JPcHRpb246IHsNCgkJCQkJbW9kdWxlczogew0KCQkJCQkJdG9vbGJhcjogWw0KCQkJCQkJCVsiYm9sZCIsICJpdGFsaWMiLCAidW5kZXJsaW5lIiwgInN0cmlrZSJdLA0KCQkJCQkJCVsiYmxvY2txdW90ZSIsICJjb2RlLWJsb2NrIl0sDQoJCQkJCQkJW3sgaGVhZGVyOiAxIH0sIHsgaGVhZGVyOiAyIH1dLA0KCQkJCQkJCVt7IGxpc3Q6ICJvcmRlcmVkIiB9LCB7IGxpc3Q6ICJidWxsZXQiIH1dLA0KCQkJCQkJCVt7IHNjcmlwdDogInN1YiIgfSwgeyBzY3JpcHQ6ICJzdXBlciIgfV0sDQoJCQkJCQkJW3sgaW5kZW50OiAiLTEiIH0sIHsgaW5kZW50OiAiKzEiIH1dLA0KCQkJCQkJCVt7IGRpcmVjdGlvbjogInJ0bCIgfV0sDQoJCQkJCQkJW3sgc2l6ZTogWyJzbWFsbCIsIGZhbHNlLCAibGFyZ2UiLCAiaHVnZSJdIH1dLA0KCQkJCQkJCVt7IGhlYWRlcjogWzEsIDIsIDMsIDQsIDUsIDYsIGZhbHNlXSB9XSwNCgkJCQkJCQlbeyBjb2xvcjogW10gfSwgeyBiYWNrZ3JvdW5kOiBbXSB9XSwNCgkJCQkJCQlbeyBmb250OiBbXSB9XSwNCgkJCQkJCQlbeyBhbGlnbjogW10gfV0sDQoJCQkJCQkJWyJjbGVhbiJdLA0KCQkJCQkJCVsiaW1hZ2UiLCAidmlkZW8iXQ0KCQkJCQkJXQ0KCQkJCQl9DQoJCQkJfSwNCgkJCQlpc0VkaXQ6IGZhbHNlLA0KCQkJCXJ1bGVzOiB7DQoJCQkJCXRpdGxlOiBbDQoJCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5qCH6aKYJywgdHJpZ2dlcjogJ2JsdXInIH0NCgkJCQkJXSwNCgkJCQkJdHlwZW5hbWU6IFsNCgkJCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nliIbnsbsnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KCQkJCQldDQoJCQkJfSwNCgkJCQljYXRlZ29yeUxpc3Q6IFtdLA0KCQkJfQ0KCQl9LA0KCQljcmVhdGVkKCkgew0KCQkJdGhpcy5nZXRDYXRlZ29yeUxpc3QoKQ0KCQkJaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmlkICE9IHVuZGVmaW5lZCkgew0KCQkJCXRoaXMuaXNFZGl0ID0gdHJ1ZTsNCgkJCQl0aGlzLiRodHRwLmdldCgnZm9ydW0vZGV0YWlsLycgKyB0aGlzLiRyb3V0ZS5xdWVyeS5pZCx7fSkudGhlbihyZXM9PnsNCgkJCQkJaWYocmVzLmRhdGEuY29kZT09MCl7DQoJCQkJCQl0aGlzLmZvcm0gPSByZXMuZGF0YS5kYXRhDQoJCQkJCX0NCgkJCQl9KQ0KCQkJfQ0KCQl9LA0KCQkvL+aWueazlembhuWQiA0KCQltZXRob2RzOiB7DQoJCQlnZXRDYXRlZ29yeUxpc3QoKXsNCgkJCQl0aGlzLiRodHRwLmdldCgnZm9ydW10eXBlL2xpc3QnLCB7fSkudGhlbihyZXMgPT4gew0KCQkJCQlpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7DQoJCQkJCQl0aGlzLmNhdGVnb3J5TGlzdCA9IHJlcy5kYXRhLmRhdGEubGlzdA0KCQkJCQl9DQoJCQkJfSk7DQoJCQl9LA0KCQkJLy8g6L+U5Zue5oyJ6ZKuDQoJCQliYWNrQ2xpY2soKXsNCgkJCQloaXN0b3J5LmJhY2soKQ0KCQkJfSwNCgkJCW9uRWRpdG9yUmVhZHkoZWRpdG9yKSB7DQoJCQkJZWRpdG9yLnJvb3Quc2V0QXR0cmlidXRlKCdkYXRhLXBsYWNlaG9sZGVyJywgIuivt+i+k+WFpeWGheWuuS4uLiIpOw0KCQkJfSwNCgkJCWNvdmVyVXBsb2FkQ2hhbmdlKGZpbGVVcmxzKSB7DQoJCQkJdGhpcy5mb3JtLmNvdmVyID0gZmlsZVVybHMucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMuJGNvbmZpZy5iYXNlVXJsLCJnIiksIiIpOw0KCQkJfSwNCgkJCXN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsNCgkJCQl0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCgkJCQkJaWYgKHZhbGlkKSB7DQoJCQkJCQlpZighdGhpcy5pc0VkaXQpew0KCQkJCQkJCXRoaXMuZm9ybS50b3B0aW1lID0gdGhpcy5nZXRDdXJEYXRlVGltZSgpDQoJCQkJCQl9DQoJCQkJCQlpZih0aGlzLmZvcm0uY292ZXI9PScnKXsNCgkJCQkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKCfor7fkuIrkvKDlsIHpnaLlm74nKQ0KCQkJCQkJCXJldHVybiBmYWxzZQ0KCQkJCQkJfQ0KCQkJCQkJdGhpcy4kaHR0cC5wb3N0KGBmb3J1bS8ke3RoaXMuaXNFZGl0ID8gJ3VwZGF0ZScgOiAnYWRkJ31gLCB0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsNCgkJCQkJCQlpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgew0KCQkJCQkJCQl0aGlzLiRtZXNzYWdlKHsNCgkJCQkJCQkJCW1lc3NhZ2U6IGAke3RoaXMuaXNFZGl0ID8gJ+S/ruaUuScgOiAn5Y+R5biDJ33miJDlip9gLA0KCQkJCQkJCQkJdHlwZTogJ3N1Y2Nlc3MnLA0KCQkJCQkJCQkJZHVyYXRpb246IDE1MDAsDQoJCQkJCQkJCQlvbkNsb3NlOiAoKSA9PiB7DQoJCQkJCQkJCQkJaWYgKHRoaXMuaXNFZGl0KSB7DQoJCQkJCQkJCQkJCXRoaXMuJHJvdXRlci5wdXNoKCcvaW5kZXgvbXlGb3J1bUxpc3QnKTsNCgkJCQkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQkJCQl0aGlzLiRyb3V0ZXIucHVzaCgnL2luZGV4L2ZvcnVtJyk7DQoJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9KTsNCgkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7DQoJCQkJCQkJfQ0KCQkJCQkJfSk7DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCX0NCgkJCQl9KTsNCgkJCX0sDQoJCQlyZXNldEZvcm0oZm9ybU5hbWUpIHsNCgkJCQl0aGlzLmZvcm0gPSB7DQoJCQkJCXRpdGxlOiAnJywNCgkJCQkJaXNkb25lOiAn5byA5pS+JywNCgkJCQkJY29udGVudDogJycsDQoJCQkJCXBhcmVudGlkOiAwLA0KCQkJCQl1c2VyaWQ6IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZnJvbnRVc2VyaWQnKSksDQoJCQkJCXVzZXJuYW1lOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSwNCgkJCQkJdG9wdGltZTogJycsDQoJCQkJCWNvdmVyOiAnJywNCgkJCQkJaXNhbm9uOiAwDQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0K"},{"version":3,"sources":["add.vue"],"names":[],"mappings":";AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add.vue","sourceRoot":"src/pages/forum","sourcesContent":["<template>\r\n\t<div :style='{\"width\":\"100%\",\"padding\":\"20px\",\"margin\":\"20px auto\",\"position\":\"relative\",\"background\":\"none\"}'>\r\n\t\t<div class=\"section-title\" :style='{\"padding\":\"0 0 0 calc(50% - 630px)\",\"margin\":\"0\",\"color\":\"#fff\",\"textAlign\":\"left\",\"background\":\"url(http://codegen.caihongy.cn/20250204/b980e0170638444f96e5c6db7256aac3.png) no-repeat center\",\"width\":\"auto\",\"lineHeight\":\"50px\",\"fontSize\":\"22px\",\"fontWeight\":\"600\"}'>互动论坛</div>\r\n\t\t<div class=\"back_box\">\r\n\t\t\t<el-button class=\"backBtn\" size=\"mini\" @click=\"backClick\">\r\n\t\t\t\t<span class=\"icon iconfont icon-jiantou33\"></span>\r\n\t\t\t\t<span class=\"text\">返回</span>\r\n\t\t\t</el-button>\r\n\t\t</div>\r\n\t\t<el-form class=\"add-update-preview\" :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"120px\">\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"标题\" prop=\"title\">\r\n\t\t\t\t<el-input v-model=\"form.title\" placeholder=\"请输入标题\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"分类\" prop=\"typename\">\r\n\t\t\t\t<el-select v-model=\"form.typename\" placeholder=\"请选择分类\">\r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t\tv-for=\"(item,index) in categoryList\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t:label=\"item.typename\"\r\n\t\t\t\t\t\t:value=\"item.typename\">\r\n\t\t\t\t\t</el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"封面图\" prop=\"cover\">\r\n\t\t\t\t<file-upload\r\n\t\t\t\t\ttip=\"点击上传封面图\"\r\n\t\t\t\t\taction=\"file/upload\"\r\n\t\t\t\t\t:limit=\"3\"\r\n\t\t\t\t\t:multiple=\"true\"\r\n\t\t\t\t\t:fileUrls=\"form.cover?form.cover:''\"\r\n\t\t\t\t\t@change=\"coverUploadChange\"\r\n\t\t\t\t\t></file-upload>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"类型\" prop=\"isdone\">\r\n\t\t\t\t<el-radio-group v-model=\"form.isdone\">\r\n\t\t\t\t\t<el-radio label=\"开放\">公开</el-radio>\r\n\t\t\t\t\t<el-radio label=\"关闭\">私人</el-radio>\r\n\t\t\t\t</el-radio-group>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"是否匿名\" prop=\"isanon\">\r\n\t\t\t\t<el-radio-group v-model=\"form.isanon\">\r\n\t\t\t\t\t<el-radio :label=\"1\">是</el-radio>\r\n\t\t\t\t\t<el-radio :label=\"0\">否</el-radio>\r\n\t\t\t\t</el-radio-group>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"10px\",\"margin\":\"0 0 10px\",\"background\":\"#efefef\"}' label=\"内容\" prop=\"content\">\r\n\t\t\t\t<editor\r\n\t\t\t\t\tmyQuillEditor=\"content\"\r\n\t\t\t\t\t:style='{\"minHeight\":\"400px\",\"border\":\"0\",\"boxShadow\":\"0 0 6px rgba(64, 158, 255, .5)\",\"outline\":\"none\",\"color\":\"#333\",\"borderRadius\":\"4px\",\"width\":\"1063px\",\"lineHeight\":\"32px\",\"fontSize\":\"14px\"}'\r\n\t\t\t\t\tv-model=\"form.content\" \r\n\t\t\t\t\tclass=\"editor\" \r\n\t\t\t\t\taction=\"file/upload\">\r\n\t\t\t\t</editor>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item :style='{\"padding\":\"0\",\"margin\":\"0\"}'>\r\n\t\t\t\t<el-button :style='{\"border\":\"0\",\"cursor\":\"pointer\",\"padding\":\"0 15px\",\"margin\":\"0 20px 0 0\",\"outline\":\"none\",\"borderRadius\":\"4px\",\"background\":\"#A50E11\",\"display\":\"inline-block\",\"width\":\"auto\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"height\":\"40px\"}' type=\"primary\" @click=\"submitForm('form')\">\r\n\t\t\t\t\t<span class=\"icon iconfont icon-kaitongfuwu\" :style='{\"color\":\"rgba(255, 255, 255, 1)\"}'></span>\r\n\t\t\t\t\t<span class=\"text\" :style='{\"color\":\"rgba(255, 255, 255, 1)\"}'>{{this.isEdit ? '修改' : '发布帖子'}}</span>\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button :style='{\"border\":\"none\",\"cursor\":\"pointer\",\"padding\":\"0 15px\",\"margin\":\"0 20px 0 0\",\"outline\":\"none\",\"borderRadius\":\"4px\",\"background\":\"#E8E8E8\",\"display\":\"inline-block\",\"width\":\"auto\",\"lineHeight\":\"40px\",\"fontSize\":\"14px\",\"height\":\"40px\"}' @click=\"resetForm('form')\">\r\n\t\t\t\t\t<span class=\"icon iconfont icon-shanchu1\" :style='{\"color\":\"#000\"}'></span>\r\n\t\t\t\t\t<span class=\"text\" :style='{\"color\":\"#000\"}'>重置</span>\r\n\t\t\t\t</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\t//数据集合\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tisdone: '开放',\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tparentid: 0,\r\n\t\t\t\t\tuserid: Number(localStorage.getItem('frontUserid')),\r\n\t\t\t\t\tusername: localStorage.getItem('username'),\r\n\t\t\t\t\ttoptime: '',\r\n\t\t\t\t\tcover: '',\r\n\t\t\t\t\tisanon: 0\r\n\t\t\t\t},\r\n\t\t\t\teditorOption: {\r\n\t\t\t\t\tmodules: {\r\n\t\t\t\t\t\ttoolbar: [\r\n\t\t\t\t\t\t\t[\"bold\", \"italic\", \"underline\", \"strike\"],\r\n\t\t\t\t\t\t\t[\"blockquote\", \"code-block\"],\r\n\t\t\t\t\t\t\t[{ header: 1 }, { header: 2 }],\r\n\t\t\t\t\t\t\t[{ list: \"ordered\" }, { list: \"bullet\" }],\r\n\t\t\t\t\t\t\t[{ script: \"sub\" }, { script: \"super\" }],\r\n\t\t\t\t\t\t\t[{ indent: \"-1\" }, { indent: \"+1\" }],\r\n\t\t\t\t\t\t\t[{ direction: \"rtl\" }],\r\n\t\t\t\t\t\t\t[{ size: [\"small\", false, \"large\", \"huge\"] }],\r\n\t\t\t\t\t\t\t[{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n\t\t\t\t\t\t\t[{ color: [] }, { background: [] }],\r\n\t\t\t\t\t\t\t[{ font: [] }],\r\n\t\t\t\t\t\t\t[{ align: [] }],\r\n\t\t\t\t\t\t\t[\"clean\"],\r\n\t\t\t\t\t\t\t[\"image\", \"video\"]\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tisEdit: false,\r\n\t\t\t\trules: {\r\n\t\t\t\t\ttitle: [\r\n\t\t\t\t\t\t{ required: true, message: '请输入标题', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttypename: [\r\n\t\t\t\t\t\t{ required: true, message: '请选择分类', trigger: 'blur' }\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tcategoryList: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getCategoryList()\r\n\t\t\tif (this.$route.query.id != undefined) {\r\n\t\t\t\tthis.isEdit = true;\r\n\t\t\t\tthis.$http.get('forum/detail/' + this.$route.query.id,{}).then(res=>{\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tthis.form = res.data.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t//方法集合\r\n\t\tmethods: {\r\n\t\t\tgetCategoryList(){\r\n\t\t\t\tthis.$http.get('forumtype/list', {}).then(res => {\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tthis.categoryList = res.data.data.list\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 返回按钮\r\n\t\t\tbackClick(){\r\n\t\t\t\thistory.back()\r\n\t\t\t},\r\n\t\t\tonEditorReady(editor) {\r\n\t\t\t\teditor.root.setAttribute('data-placeholder', \"请输入内容...\");\r\n\t\t\t},\r\n\t\t\tcoverUploadChange(fileUrls) {\r\n\t\t\t\tthis.form.cover = fileUrls.replace(new RegExp(this.$config.baseUrl,\"g\"),\"\");\r\n\t\t\t},\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif(!this.isEdit){\r\n\t\t\t\t\t\t\tthis.form.toptime = this.getCurDateTime()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this.form.cover==''){\r\n\t\t\t\t\t\t\tthis.$message.error('请上传封面图')\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$http.post(`forum/${this.isEdit ? 'update' : 'add'}`, this.form).then(res => {\r\n\t\t\t\t\t\t\tif (res.data.code === 0) {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: `${this.isEdit ? '修改' : '发布'}成功`,\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tduration: 1500,\r\n\t\t\t\t\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\t\t\t\t\tif (this.isEdit) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.push('/index/myForumList');\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.push('/index/forum');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message.error(res.data.msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tresetForm(formName) {\r\n\t\t\t\tthis.form = {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tisdone: '开放',\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tparentid: 0,\r\n\t\t\t\t\tuserid: Number(localStorage.getItem('frontUserid')),\r\n\t\t\t\t\tusername: localStorage.getItem('username'),\r\n\t\t\t\t\ttoptime: '',\r\n\t\t\t\t\tcover: '',\r\n\t\t\t\t\tisanon: 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n\t.add-update-preview .el-form-item /deep/ .el-form-item__label {\r\n\t\tpadding: 0 10px 0 0;\r\n\t\tcolor: #666;\r\n\t\tfont-weight: 500;\r\n\t\twidth: 120px;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 40px;\r\n\t\ttext-align: right;\r\n\t}\r\n\t.add-update-preview .el-form-item /deep/ .el-form-item__content {\r\n\t\tmargin-left: 120px;\r\n\t}\r\n\t.add-update-preview .el-input /deep/ .el-input__inner {\r\n\t\tborder: 0;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 0 12px;\r\n\t\tbox-shadow: 0 0 6px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 400px;\r\n\t\tfont-size: 14px;\r\n\t\theight: 40px;\r\n\t}\r\n\t.add-update-preview .el-select /deep/ .el-input__inner {\r\n\t\tborder: 0;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 0 10px;\r\n\t\tbox-shadow: 0 0 6px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 200px;\r\n\t\tfont-size: 14px;\r\n\t\theight: 40px;\r\n\t}\r\n  \r\n\t.add-update-preview .el-date-editor /deep/ .el-input__inner {\r\n\t\tborder: 0;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 0 10px 0 30px;\r\n\t\tbox-shadow: 0 0 6px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 200px;\r\n\t\tfont-size: 14px;\r\n\t\theight: 40px;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .el-upload--picture-card {\r\n\t\tbackground: transparent;\r\n\t\tborder: 0;\r\n\t\tborder-radius: 0;\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tline-height: initial;\r\n\t\tvertical-align: middle;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .upload .upload-img {\r\n\t\tborder: 1px dashed rgba(64, 158, 255, 1);\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 6px;\r\n\t\tcolor: rgba(64, 158, 255, 1);\r\n\t\twidth: 200px;\r\n\t\tfont-size: 32px;\r\n\t\tline-height: 200px;\r\n\t\ttext-align: center;\r\n\t\theight: 200px;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .el-upload-list .el-upload-list__item {\r\n\t\tborder: 1px dashed rgba(64, 158, 255, 1);\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 6px;\r\n\t\tcolor: rgba(64, 158, 255, 1);\r\n\t\twidth: 200px;\r\n\t\tfont-size: 32px;\r\n\t\tline-height: 200px;\r\n\t\ttext-align: center;\r\n\t\theight: 200px;\r\n\t}\r\n  \r\n\t.add-update-preview /deep/ .el-upload .el-icon-plus {\r\n\t\tborder: 1px dashed rgba(64, 158, 255, 1);\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 6px;\r\n\t\tcolor: rgba(64, 158, 255, 1);\r\n\t\twidth: 200px;\r\n\t\tfont-size: 32px;\r\n\t\tline-height: 200px;\r\n\t\ttext-align: center;\r\n\t\theight: 200px;\r\n\t}\r\n\t.add-update-preview /deep/ .el-upload__tip {\r\n\t\tcolor: #838fa1;\r\n\t}\r\n  \r\n\t.add-update-preview .el-textarea /deep/ .el-textarea__inner {\r\n\t\tborder: 0;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 12px;\r\n\t\tbox-shadow: 0 0 6px rgba(64, 158, 255, .5);\r\n\t\toutline: none;\r\n\t\tcolor: #000;\r\n\t\twidth: 400px;\r\n\t\tfont-size: 14px;\r\n\t\theight: 120px;\r\n\t}\r\n</style>\r\n"]}]}